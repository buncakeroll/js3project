{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction EditComponent_li_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingredient_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ingredient_r2);\n  }\n}\nfunction EditComponent_li_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const step_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(step_r3);\n  }\n}\nexport let EditComponent = /*#__PURE__*/(() => {\n  class EditComponent {\n    constructor(firestore, route) {\n      this.firestore = firestore;\n      this.route = route;\n      this.id = '';\n      this.recipeName = '';\n      this.duration = 0;\n      this.newRecipeName = '';\n      this.newDuration = 0;\n      this.newIngredient = '';\n      this.newAllIngredients = [];\n      this.newStep = '';\n      this.newAllSteps = [];\n    }\n    ngOnInit() {\n      this.id = this.route.snapshot.paramMap.get('id');\n      this.getRecipeData(this.id);\n    }\n    getRecipeData(id) {\n      this.firestore.collection('recipes').doc(id).ref.get().then(doc => {\n        if (doc.exists) {\n          const data = doc.data();\n          this.recipeName = data.name;\n          this.duration = data.duration;\n          this.newRecipeName = data.name;\n          this.newDuration = data.duration;\n          this.newAllIngredients = data.ingredients;\n          this.newAllSteps = data.steps;\n        } else {\n          console.log(\"This document doesn't exist\");\n        }\n      }).catch(error => {\n        console.log('There was an error getting your document:', error);\n      });\n    }\n    addIngredient() {\n      this.newAllIngredients.push(this.newIngredient);\n      this.newIngredient = '';\n    }\n    addStep() {\n      this.newAllSteps.push(this.newStep);\n      this.newStep = '';\n    }\n    saveEditedRecipe() {\n      this.firestore.collection('recipes').doc(this.id).set({\n        id: this.id,\n        name: this.newRecipeName,\n        duration: this.newDuration,\n        ingredients: this.newAllIngredients,\n        steps: this.newAllSteps\n      }).then(() => {\n        alert('New recipe successfully saved!');\n      }).catch(error => {\n        alert('error saving new recipe: ' + error);\n      });\n    }\n  }\n  EditComponent.ɵfac = function EditComponent_Factory(t) {\n    return new (t || EditComponent)(i0.ɵɵdirectiveInject(i1.AngularFirestore), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  EditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EditComponent,\n    selectors: [[\"app-edit\"]],\n    decls: 42,\n    vars: 10,\n    consts: [[1, \"edit-recipe-form\"], [\"for\", \"recipeName\"], [\"type\", \"text\", \"id\", \"recipeName\", \"name\", \"recipeName\", \"placeholder\", \"New recipe name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"duration\"], [\"type\", \"text\", \"id\", \"duration\", \"name\", \"duration\", \"placeholder\", \"New duration\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"ingredient\"], [\"type\", \"text\", \"name\", \"ingredient\", \"placeholder\", \"Enter ingredient\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [\"for\", \"step\"], [\"rows\", \"5\", \"name\", \"steps\", \"placeholder\", \"Enter step\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn-edit\", 3, \"click\"]],\n    template: function EditComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Edit Recipe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"form\")(4, \"p\");\n        i0.ɵɵtext(5, \" Current Recipe Name: \");\n        i0.ɵɵelementStart(6, \"i\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"label\", 1);\n        i0.ɵɵtext(9, \"New Recipe Name: \");\n        i0.ɵɵelementStart(10, \"b\");\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function EditComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.newRecipeName = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"p\");\n        i0.ɵɵtext(14, \" Current Recipe Duration: \");\n        i0.ɵɵelementStart(15, \"i\");\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"label\", 3);\n        i0.ɵɵtext(18, \"New duration: \");\n        i0.ɵɵelementStart(19, \"b\");\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function EditComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.newDuration = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"p\");\n        i0.ɵɵtext(23, \"Current Ingredients:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"ul\");\n        i0.ɵɵtemplate(25, EditComponent_li_25_Template, 2, 1, \"li\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"label\", 6);\n        i0.ɵɵtext(27, \"New ingredients:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function EditComponent_Template_input_ngModelChange_28_listener($event) {\n          return ctx.newIngredient = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function EditComponent_Template_button_click_29_listener() {\n          return ctx.addIngredient();\n        });\n        i0.ɵɵtext(30, \"Add new ingredient\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"p\");\n        i0.ɵɵtext(32, \"Current Steps:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"ol\");\n        i0.ɵɵtemplate(34, EditComponent_li_34_Template, 2, 1, \"li\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"label\", 9);\n        i0.ɵɵtext(36, \"New steps:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"textarea\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function EditComponent_Template_textarea_ngModelChange_37_listener($event) {\n          return ctx.newStep = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function EditComponent_Template_button_click_38_listener() {\n          return ctx.addStep();\n        });\n        i0.ɵɵtext(39, \"Add new step\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function EditComponent_Template_button_click_40_listener() {\n          return ctx.saveEditedRecipe();\n        });\n        i0.ɵɵtext(41, \" Save edited recipe \");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.recipeName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.newRecipeName);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.newRecipeName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.duration);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.newDuration);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.newDuration);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.newAllIngredients);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newIngredient);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.newAllSteps);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newStep);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n    styles: [\".edit-recipe-form[_ngcontent-%COMP%]{padding:2em;background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a}.edit-recipe-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-control[_ngcontent-%COMP%]{padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px}ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}label[_ngcontent-%COMP%]:not(:first-child){margin:2em 0 1em}label[_ngcontent-%COMP%]:first-child{margin:0 0 1em}textarea[_ngcontent-%COMP%]{padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:8px 16px;color:#fff;background-color:#313438;border:1px solid #313438;border-radius:5px;max-width:max-content;text-transform:uppercase;cursor:pointer;font-weight:700}button[_ngcontent-%COMP%]:hover{color:#313438;background-color:transparent}.btn-edit[_ngcontent-%COMP%]{font-size:1.1em;width:100%;max-width:none;padding:1em;margin-top:2em;background-color:#319cff;border:1px solid #319cff}.btn-edit[_ngcontent-%COMP%]{color:#319cff;background-color:transparent;border:1px solid #319cff}\"]\n  });\n  return EditComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}